const cd=document.getElementById('countdown'),msg=document.getElementById('message'),show=document.getElementById('slideshow'),slide=document.getElementById('slide'),text=document.getElementById('stext'),music=document.getElementById('music');
let count=10,index=0;
const slides=[{photo:'photo1.jpg',text:'You are amazing ðŸ’–'},{photo:'photo2.jpg',text:'Keep smiling always ðŸ˜Š'},{photo:'photo3.jpg',text:'This year is ours âœ¨'}];
const timer=setInterval(()=>{cd.textContent=count;count--;if(count<0){clearInterval(timer);cd.style.display='none';msg.classList.remove('hidden');show.classList.remove('hidden');music.play();startSlideshow();startFireworks();startSnow();startRoses();}},1000);
function startSlideshow(){slide.src=slides[0].photo;text.textContent=slides[0].text;setInterval(()=>{index=(index+1)%slides.length;slide.src=slides[index].photo;text.textContent=slides[index].text;},5000);}
function resize(c){c.width=innerWidth;c.height=innerHeight;}
function startFireworks(){const c=document.getElementById('fireworks'),ctx=c.getContext('2d');resize(c);let p=[];function burst(){for(let i=0;i<120;i++)p.push({x:Math.random()*c.width,y:Math.random()*c.height/2,vx:(Math.random()-0.5)*6,vy:(Math.random()-0.5)*6,l:100});}(function anim(){ctx.clearRect(0,0,c.width,c.height);p.forEach((o,i)=>{ctx.fillStyle='gold';ctx.fillRect(o.x,o.y,3,3);o.x+=o.vx;o.y+=o.vy;o.l--;if(o.l<=0)p.splice(i,1);});if(p.length<200)burst();requestAnimationFrame(anim);})();}
function startSnow(){const c=document.getElementById('snow'),ctx=c.getContext('2d');resize(c);const f=Array.from({length:200},()=>({x:Math.random()*c.width,y:Math.random()*c.height,r:Math.random()*3+1,s:Math.random()+0.5}));(function anim(){ctx.clearRect(0,0,c.width,c.height);f.forEach(o=>{ctx.beginPath();ctx.arc(o.x,o.y,o.r,0,Math.PI*2);ctx.fillStyle='white';ctx.fill();o.y+=o.s;if(o.y>c.height)o.y=0;});requestAnimationFrame(anim);})();}
function startRoses(){const c=document.getElementById('roses'),ctx=c.getContext('2d');resize(c);const r=Array.from({length:60},()=>({x:Math.random()*c.width,y:Math.random()*c.height,s:Math.random()+0.5}));(function anim(){ctx.clearRect(0,0,c.width,c.height);r.forEach(o=>{ctx.beginPath();ctx.arc(o.x,o.y,5,0,Math.PI*2);ctx.fillStyle='hotpink';ctx.fill();o.y+=o.s;if(o.y>c.height)o.y=0;});requestAnimationFrame(anim);})();}